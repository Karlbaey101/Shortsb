{
    "version": "https://jsonfeed.org/version/1",
    "title": "Karlbaey's Shorts • All posts by \"hexo\" tag",
    "description": "",
    "home_page_url": "https://s.karlbaey.top",
    "items": [
        {
            "id": "https://s.karlbaey.top/shorts/repair-A4/",
            "url": "https://s.karlbaey.top/shorts/repair-A4/",
            "title": "修复 A4 主题记录",
            "date_published": "2025-06-01T17:54:43.000Z",
            "content_html": "<link rel=\"stylesheet\" type=\"text/css\" href=\"https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css\"><div class=\".article-gallery\"><p>这次是一次速修，比刚入门 Hexo 的时候不认识 yaml 怎么写，一个小小的格式错误就耗费了我快半个小时要聪明得多。<a href=\"//karlbaey.top/articles/repair-success/\">链接🔗</a></p>\n<p>之前在<a href=\"/about\">关于页面</a>就有提到了小作品站用到的主题是 <a href=\"https://github.com/HiNinoJay/hexo-theme-A4\">A4</a>，主要是看重它的简洁，适合我写小作品也适合小伙伴阅读。但是……不出意外地，又出意外了。</p>\n<p>我兴冲冲地配置好了 <code>_config.yml</code> 和 <code>_config.a4.yml</code>，本来按照作者的意思只要在命令行输入 <code>hexo new page index</code> 就能够自动生成首页了。但是……细心的小伙伴估计也发现了，小作品站的首页并不是根目录，而是 <code>/master</code>。这又是一个漫长的故事。</p>\n<p>一开始我的确是以根目录作为首页的，但在我写完第一篇小作品并发表后，问题就诞生了。</p>\n<blockquote>\n<p>文件架构：</p>\n<pre class=\"line-numbers language-language-txt\"><code class=\"language-language-txt\">\nsource/\n  |\n  +--...\n  +--index.md\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>其中，（预计）<code>index.md</code> 会被渲染成主页。</p>\n</blockquote>\n<p><a href=\"https://pan.moe/f/Xjas1/%E5%9D%8F%E6%8E%89%E7%9A%84s.karlbaey.top%E9%A6%96%E9%A1%B5.jpeg\" class=\"gallery-item\" style=\"box-shadow: none;\"> <img src=\"https://pan.moe/f/Xjas1/%E5%9D%8F%E6%8E%89%E7%9A%84s.karlbaey.top%E9%A6%96%E9%A1%B5.jpeg\"></a></p>\n<p>很明显这是首页被当成一篇小作品解析了，因为有明显的字样“上一篇”“下一篇”，被 Waline 占领我就不知道为什么了。我试着把 <code>index.md</code> 移动到 <code>/master</code> 里面，再做重定向，就可以避免这样的问题。但是后来还是被现实打趴下了。Hexo 默认会在首页生成一组最近文章，就像<a href=\"//karlbaey.top\">主站</a>显示的那样，但是我现在不需要啊，如果 Hexo 主动生成了，那反倒会把我提前准备好的重定向页给覆盖了，这明显就不是我想看到的。</p>\n<p>挺糟心的，而且并没有什么好的解决方案。所以后来问了 DeepSeek，倒是一针见血。</p>\n<blockquote>\n<h3 id=\"额外说明\"><a href=\"#额外说明\" class=\"headerlink\" title=\"额外说明\"></a>额外说明</h3><ul>\n<li><p><strong>菜单链接调整</strong>：如果你希望导航菜单中的 “首页” 指向你的自定义页面，需在主题配置中修改菜单链接为 <code>/</code>。</p>\n</li>\n<li><p><strong>完全禁用默认首页</strong>：如果不需要 Hexo 生成的博客列表首页，可卸载插件：</p>\n<pre class=\"line-numbers language-language-bash\"><code class=\"language-language-bash\">npm uninstall hexo-generator-index --save\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n</ul>\n<p>按此配置后，Hexo 会完全保留你的自定义 <code>index.html</code> 并跳过渲染，确保它直接出现在网站根目录。</p>\n<p><a href=\"https://chat.deepseek.com/a/chat/s/6d06260e-8116-4f87-92d6-fcc01f1972d4\">原对话链接🔗</a></p>\n</blockquote>\n<p>不得已而思其次，我发现 A4 的作品存档并不依赖于 Hexo 本身，而是作者自己写了代码用来列出全部的作品页（也就是列举出形如 <code>s.karlbaey.top/shorts/...</code> 这样的页面）。所以我大胆地删掉了 <code>hexo-generator-index</code> 这个包，再给根目录做一个重定向，就可以抵达我真正的首页 <code>/master</code> 了。</p>\n<pre class=\"line-numbers language-language-html\"><code class=\"language-language-html\">\n<!DOCTYPE html>\n<!-- 放在网站根目录，重定向至 /master -->\n<html>\n<body>\n    <script>\n        window.location.href = \"/master\";\n    </script>\n    <p>如果不跳转，请按<a target=\"_blank\" rel=\"noopener\" href=\"/master\" title=\"快点我！\">这里</a></p>\n</body>\n</html>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>问题完美解决~</p>\n<p><em><strong>(The end)</strong></em></p>\n</div>",
            "tags": [
                "Hexo"
            ]
        }
    ]
}